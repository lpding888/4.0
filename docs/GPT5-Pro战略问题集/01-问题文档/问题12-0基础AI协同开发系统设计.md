# 问题12：0基础AI协同开发系统完整设计

> **问题类型**：系统架构设计 + Skills设计 + 工作流设计
> **优先级**：P0（立即设计）
> **预计思考时间**：20-30分钟
> **预计输出字数**：20000-30000字

---

## 背景说明

我需要你设计一套完整的"0基础AI协同开发系统"，让完全不懂编程的人也能通过自然语言描述需求，然后由AI团队自动完成整个项目开发。

这个系统的核心理念是：**模拟真实公司的层级化团队协作**。

---

## 我的愿景

### 理想的工作流程

```
第1步：老板（0基础用户）说需求
  "我想开发一个CMS配置系统"
  ↓

第2步：产品经理（Product Planner）澄清需求
  - 主动提问：CMS要管理哪些内容？
  - 主动提问：预计多少管理员使用？
  - 主动提问：是否需要权限管理？
  - 老板回答后，产品经理深度理解需求
  ↓

第3步：产品经理深度分析和规划
  - 分析用户痛点和商业价值
  - 设计完整的用户流程
  - 技术选型分析（自研 vs 第三方）
  - 架构设计（数据库、API、前后端）
  ↓

第4步：产品经理拆分任务卡（按部门）
  - Backend部门：15个任务卡（CMS-B-001 ~ CMS-B-015）
  - Frontend部门：10个任务卡（CMS-F-001 ~ CMS-F-010）
  - SCF部门：5个任务卡（CMS-S-001 ~ CMS-S-005）
  - QA部门：3个任务卡（CMS-Q-001 ~ CMS-Q-003）
  - Reviewer部门：2个任务卡（CMS-R-001 ~ CMS-R-002）
  ↓

第5步：各部门并行执行任务卡
  - Backend Dev接收CMS-B-001，开始开发
  - Frontend Dev接收CMS-F-001，开始开发
  - SCF Worker接收CMS-S-001，开始开发
  ↓

第6步：部门间协作和问题处理
  - Backend完成后通知Frontend："用户接口已就绪"
  - Reviewer审查代码，发现Bug，创建修复任务卡
  - Reviewer输出：CMS-B-016（修复Bug）→ 交给Backend
  ↓

第7步：QA验收和交付
  - QA执行验收测试
  - 通过后交付给老板
  - 老板验收确认
```

### 核心优势（重要！）
- 🚀 **AI辅助开发，极低开发成本**：
  - 创始人通过AI团队独立完成整个项目
  - 传统需要5-10人团队3-6个月的项目，AI团队1人3-6周即可完成
  - 开发成本降低95%以上
  - **关键决策影响**：0基础也能开发复杂系统，技术门槛几乎为0
  - **请在设计系统时优先考虑易用性和自动化**，让用户只需描述需求，其他全部自动化

---

## 现有基础

### 当前的Skills结构
我已经有8个skills，但它们都是我简单写的，不够牛逼：

```
skills/
├── product_planner_skill/    # 产品规划
├── backend_dev_skill/        # 后端开发
├── frontend_dev_skill/       # 前端开发
├── scf_worker_skill/         # 云函数开发
├── billing_guard_skill/      # 计费审计
├── reviewer_skill/           # 代码审查
├── qa_acceptance_skill/      # 质量验收
└── codebuddy_deploy_skill/   # 部署运维
```

每个skill有6个手册文件：
- README.md - 角色介绍
- RULES.md - 行为约束
- CONTEXT.md - 背景知识
- EXAMPLES.md - 输出示例
- FLOW.md - 工作流程
- CHECKLIST.md - 自检清单

### 当前的问题
❌ **产品经理没有"澄清需求"环节**：直接就开始规划，不主动提问
❌ **任务卡格式不统一**：没有标准的JSON Schema
❌ **任务卡不按部门拆分**：混在一起，难以分配
❌ **执行部门不够智能**：只会"照着做"，不会主动思考和优化
❌ **缺少协作机制**：部门之间不知道如何协作
❌ **缺少层级化管理**：Reviewer不能输出任务卡给下级

---

## 核心问题

请你深度设计以下内容，**输出可以分成多个文件**（如果内容太长）：

### 第一部分：系统架构设计（5000-8000字）

#### 1. 层级化AI团队架构
- **如何设计层级关系？**
  - Product Planner（产品经理）：最高层，唯一能主动输出任务卡
  - 执行部门（Backend/Frontend/SCF/QA）：中层，执行任务卡
  - 特殊情况：Reviewer可以输出修复任务卡给执行部门
  - 是否需要更低一级的AI？（如Haiku模型执行简单任务）

#### 2. 任务卡标准格式（JSON Schema）
- **完整的任务卡应该包含哪些字段？**
  - 基础信息：taskId、module、title、department
  - 工作量信息：estimatedHours、priority、phase
  - 依赖信息：dependencies（依赖其他任务卡）
  - 执行信息：description、technicalRequirements、acceptanceCriteria
  - 协作信息：needsCoordination（需要其他部门配合）
  - AI提示：aiPromptSuggestion（交给Claude Code的提示词）

#### 3. 部门职责边界
- **每个部门的职责和权限？**
  - Product Planner：澄清需求、深度分析、拆分任务卡、协调各部门
  - Backend Dev：后端API开发、数据库设计、配额管理
  - Frontend Dev：前端界面、交互实现、状态管理
  - SCF Worker：云函数、异步任务、大文件处理
  - Billing Guard：计费审计（不开发，只审查）
  - Reviewer：代码审查、输出修复任务卡、质量把关
  - QA Acceptance：验收测试、回归测试、性能测试
  - Deploy：部署上线、环境配置、监控告警

#### 4. 协作机制
- **部门间如何协作？**
  - Backend完成后如何通知Frontend？
  - Frontend需要接口时如何向Backend申请？
  - Reviewer发现Bug如何创建修复任务卡？
  - QA发现问题如何反馈给开发部门？

---

### 第二部分：Product Planner设计（8000-12000字）

Product Planner是整个系统的核心，需要最详细的设计。

#### 5. 需求澄清机制
- **如何主动提问澄清需求？**
  - 什么情况下需要澄清？（需求模糊、技术方案不明确）
  - 提问的策略？（先问商业目标，再问技术细节）
  - 如何避免问太多问题？（最多5-8个关键问题）
  - 如何处理老板不回答的情况？（给出默认假设）

#### 6. 深度分析能力
- **如何像GPT-5 Pro那样深度思考？**
  - 用户痛点分析（为什么要做这个功能）
  - 商业价值评估（预期收益、用户价值）
  - 技术选型分析（自研 vs 第三方 vs 混合）
  - 架构设计（数据库、API、前后端分离）
  - 风险识别（技术风险、业务风险、资源风险）

#### 7. 任务卡拆分策略
- **如何拆分任务卡？**
  - 拆分原则：每个任务卡4-12小时工作量
  - 拆分维度：按部门拆分（Backend 15个 + Frontend 10个 + ...）
  - 依赖关系：如何标注任务之间的依赖？
  - 优先级：P0（MVP必须）、P1（重要）、P2（优化）
  - AI提示词：每个任务卡生成建议的AI Prompt

#### 8. Product Planner的标准输出格式
- **完整的输出应该包含哪些部分？**
  - 需求背景和目标
  - 用户完整使用流程
  - 技术选型分析
  - 架构设计
  - 任务卡清单（按部门分组）
  - 实施时间表（Week 1-4）
  - 风险提醒和应对

---

### 第三部分：执行部门设计（6000-10000字）

#### 9. Backend Dev能力设计
- **应该具备哪些能力？**
  - 接收任务卡并理解需求
  - 自主设计API接口（RESTful规范）
  - 自主设计数据库表（ER图、索引优化）
  - 编写高质量代码（遵循最佳实践）
  - 编写单元测试（覆盖率≥80%）
  - 完成后汇报产品经理

#### 10. Frontend Dev能力设计
- **应该具备哪些能力？**
  - 接收任务卡并理解需求
  - 自主设计UI组件（Ant Design规范）
  - 自主设计状态管理（Zustand）
  - 调用Backend API（错误处理、Loading状态）
  - 编写E2E测试（Playwright）
  - 完成后汇报产品经理

#### 11. SCF Worker能力设计
- **应该具备哪些能力？**
  - 接收任务卡并理解需求
  - 编写云函数代码（腾讯云SCF）
  - 处理大文件和异步任务
  - COS回调桥接
  - 完成后汇报产品经理

#### 12. Reviewer特殊能力
- **Reviewer的特殊职责？**
  - 审查所有部门的代码
  - 识别安全漏洞、性能问题、代码规范
  - **关键能力：可以输出修复任务卡**
  - 修复任务卡格式：CMS-B-016（修复任务卡ID）
  - 分配给对应部门执行

---

### 第四部分：Skills手册内容设计（8000-12000字）

请为每个skill设计完整的6个手册内容（不需要写完整内容，给出详细大纲和关键部分示例）：

#### 13. Product Planner手册内容
- **README.md**：角色定位、核心能力、使用场景
- **RULES.md**：行为红线（如：必须先澄清需求再规划）
- **CONTEXT.md**：背景知识（项目技术栈、商业模式、用户画像）
- **EXAMPLES.md**：标准输出示例（需求澄清示例、任务卡示例）
- **FLOW.md**：标准工作流程（10个步骤）
- **CHECKLIST.md**：自检清单（20项检查点）

#### 14. Backend Dev手册内容
- **README.md**
- **RULES.md**：行为红线（如：禁止修改前端代码）
- **CONTEXT.md**
- **EXAMPLES.md**：API设计示例、数据库设计示例
- **FLOW.md**：开发流程（接收任务卡 → 设计 → 开发 → 测试 → 汇报）
- **CHECKLIST.md**

#### 15. Frontend Dev手册内容
（类似Backend Dev）

#### 16. Reviewer手册内容
- **特别强调：如何输出修复任务卡**

---

### 第五部分：实施路线图（3000-5000字）

#### 17. 分阶段实施建议
- **Phase 1（1周）**：重写Product Planner
- **Phase 2（1周）**：重写Backend Dev、Frontend Dev
- **Phase 3（1周）**：重写Reviewer（增加任务卡输出能力）
- **Phase 4（1周）**：完善其他skills和协作机制

#### 18. 测试验证方案
- **如何验证系统可用？**
  - 测试案例1：让Product Planner规划"CMS系统"
  - 测试案例2：让Backend Dev执行一个任务卡
  - 测试案例3：让Reviewer审查代码并输出修复任务卡

---

## 输出要求

### 格式要求
1. **可以分成多个文件输出**（如果内容超过15000字）
   - 文件1：系统架构设计.md（第一部分）
   - 文件2：Product Planner详细设计.md（第二部分）
   - 文件3：执行部门设计.md（第三部分）
   - 文件4：Skills手册内容大纲.md（第四部分）
   - 文件5：实施路线图.md（第五部分）

2. **每个部分必须包含**：
   - 详细的设计思路和理由
   - 具体的实现方案（JSON Schema、流程图、示例）
   - 潜在的风险和应对方案
   - 最佳实践建议

3. **特别要求**：
   - Product Planner的设计要最详细（8000-12000字）
   - 任务卡格式要给出完整的JSON Schema
   - Skills手册要给出详细大纲和关键部分示例
   - 协作机制要有清晰的流程图或伪代码

### 质量要求
- ✅ 深度思考，像GPT-5 Pro那样系统性分析
- ✅ 批判性思维，指出潜在问题和风险
- ✅ 实操性强，给出可直接执行的方案
- ✅ 创新性，提出我没想到的更好方案

---

## 预期输出

请使用你的深度推理能力，像一位资深的系统架构师+产品专家那样，进行全面、系统、批判性的分析。

**总字数**：20000-30000字
**思考时间**：20-30分钟
**输出文件数**：5个独立文件

开始设计这套"0基础AI协同开发系统"！
